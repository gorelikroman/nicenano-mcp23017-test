# Nice!Nano v2 + MCP23017 Test Setup

## Схема подключения

### Nice!Nano v2 пины:
- VCC: 3.3V питание для MCP23017
- GND: Общая земля
- D20 (P0.29): SCL (I2C Clock)
- D21 (P0.31): SDA (I2C Data)

### MCP23017 подключение:
```
MCP23017 Pin    Nice!Nano Pin    Описание
VDD             3.3V             Питание
VSS             GND              Земля  
SCL             D20 (P0.29)      I2C Clock
SDA             D21 (P0.31)      I2C Data
RESET           3.3V             Сброс (подтянуть к питанию)
A0              GND              Адрес I2C = 0x20
A1              GND              Адрес I2C = 0x20  
A2              GND              Адрес I2C = 0x20
```

## Тестирование GPIO

### Nice!Nano v2 GPIO mapping:
- D1 (P0.06): Клавиша Q
- D0 (P0.08): Клавиша W  
- D2 (P0.17): Клавиша E
- D3 (P0.20): Клавиша R
- D4 (P0.22): Клавиша T
- D5 (P0.24): Клавиша Y
- D6 (P1.00): Клавиша U
- D7 (P0.11): Клавиша I
- D8 (P1.04): Клавиша O
- D9 (P1.06): Клавиша P

### MCP23017 GPIO mapping:
- GPA0: Клавиша 1
- GPA1: Клавиша 2
- GPA2: Клавиша 3  
- GPA3: Клавиша 4
- GPA4: Клавиша 5
- GPA5: Клавиша 6
- GPA6: Клавиша 7
- GPA7: Клавиша 8
- GPB0: Клавиша 9
- GPB1: Клавиша 0
- GPB2: Клавиша -
- GPB3: Клавиша =
- GPB4: Клавиша [
- GPB5: Клавиша ]
- GPB6: Клавиша \
- GPB7: Клавиша ENTER

## Как тестировать

1. Соберите проект:
   ```bash
   west build -p -b nice_nano_v2 -- -DSHIELD=nicenano_test
   ```

2. Загрузите прошивку на Nice!Nano v2

3. Подключите кнопки/переключатели между каждым GPIO и GND

4. При нажатии на кнопки должны печататься соответствующие символы

5. Если символ печатается - GPIO работает корректно

## Диагностика

- Если не работают GPIO Nice!Nano - проверьте пайку контактов
- Если не работают GPIO MCP23017 - проверьте подключение I2C (SCL/SDA)
- Если частично работает MCP23017 - проверьте питание и адресные пины
- Используйте мультиметр для проверки напряжений

## Дополнительные функции

- Bluetooth подключение поддерживается
- USB режим также работает
- Мониторинг батареи включен
- Режим энергосбережения активен
